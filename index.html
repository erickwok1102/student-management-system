<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¸å“¡ç®¡ç†ç³»çµ± - Vercelç‰ˆ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f7fa; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px; margin-bottom: 30px; text-align: center; box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        .card { background: white; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); padding: 30px; margin-bottom: 25px; border: 1px solid rgba(255,255,255,0.18); }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin: 5px; transition: all 0.3s ease; font-weight: 500; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-danger { background: #dc3545; color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
        .form-group input, .form-group select, .form-group textarea { 
            width: 100%; padding: 12px 16px; border: 2px solid #e1e5e9; border-radius: 8px; 
            font-size: 16px; transition: border-color 0.3s ease; 
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none; border-color: #007bff; box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }
        .student-list { max-height: 500px; overflow-y: auto; }
        .student-item { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 20px; border-bottom: 1px solid #eee; border-radius: 8px; 
            margin-bottom: 10px; background: #f8f9fa; transition: all 0.3s ease;
        }
        .student-item:hover { background: #e9ecef; transform: translateX(5px); }
        .notification { 
            position: fixed; top: 20px; right: 20px; padding: 16px 24px; 
            border-radius: 12px; color: white; font-weight: 600; z-index: 1000; 
            opacity: 0; transition: all 0.3s ease; box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        .notification.success { background: linear-gradient(135deg, #28a745, #20c997); }
        .notification.error { background: linear-gradient(135deg, #dc3545, #e74c3c); }
        .notification.warning { background: linear-gradient(135deg, #ffc107, #f39c12); color: #333; }
        .notification.show { opacity: 1; transform: translateY(0); }
        .status-indicator { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-left: 10px; }
        .status-online { background: #28a745; box-shadow: 0 0 10px rgba(40,167,69,0.5); }
        .status-offline { background: #dc3545; box-shadow: 0 0 10px rgba(220,53,69,0.5); }
        .tabs { 
            display: flex; border-bottom: 2px solid #e9ecef; margin-bottom: 30px; 
            background: white; border-radius: 12px 12px 0 0; overflow: hidden;
        }
        .tab { 
            padding: 18px 30px; cursor: pointer; border: none; background: none; 
            font-size: 16px; font-weight: 500; transition: all 0.3s ease; 
        }
        .tab.active { background: #007bff; color: white; }
        .tab:not(.active):hover { background: #f8f9fa; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .grid-form { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .stat-card { 
            background: linear-gradient(135deg, #f8f9fa, #e9ecef); 
            padding: 25px; border-radius: 12px; text-align: center; 
            border-left: 4px solid #007bff; transition: transform 0.3s ease;
        }
        .stat-card:hover { transform: translateY(-5px); }
        .sync-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; }
        .sync-card { text-align: center; padding: 30px; border-radius: 12px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); }
        .loading { text-align: center; padding: 40px; color: #666; }
        .empty-state { text-align: center; padding: 60px 20px; color: #999; }
        .empty-state h3 { margin-bottom: 10px; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ å­¸å“¡ç®¡ç†ç³»çµ±</h1>
            <p>Vercel + Google Sheets é›²ç«¯åŒæ­¥ç‰ˆ</p>
            <div style="margin-top: 15px;">
                <span>ä¼ºæœå™¨ç‹€æ…‹:</span>
                <span class="status-indicator status-offline" id="serverStatus"></span>
                <span id="statusText">æª¢æ¸¬ä¸­...</span>
            </div>
        </div>

        <!-- æ¨™ç±¤é å°èˆª -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('students')">ğŸ‘¥ å­¸å“¡ç®¡ç†</button>
            <button class="tab" onclick="showTab('sync')">â˜ï¸ é›²ç«¯åŒæ­¥</button>
            <button class="tab" onclick="showTab('stats')">ğŸ“Š çµ±è¨ˆå ±è¡¨</button>
        </div>

        <!-- å­¸å“¡ç®¡ç†æ¨™ç±¤ -->
        <div id="studentsTab" class="tab-content active">
            <div class="card">
                <h3 style="margin-bottom: 25px; color: #333;">â• æ–°å¢å­¸å“¡</h3>
                <div class="grid-form">
                    <div class="form-group">
                        <label>å­¸å“¡å§“å *</label>
                        <input type="text" id="studentName" placeholder="è«‹è¼¸å…¥å­¸å“¡å§“å" required>
                    </div>
                    <div class="form-group">
                        <label>åˆ¥å/è‹±æ–‡å</label>
                        <input type="text" id="studentNickname" placeholder="åˆ¥åæˆ–è‹±æ–‡å (é¸å¡«)">
                    </div>
                    <div class="form-group">
                        <label>ç­åˆ¥</label>
                        <select id="studentClass">
                            <option value="">è«‹é¸æ“‡ç­åˆ¥</option>
                            <option value="æ•¸å­¸ç­">æ•¸å­¸ç­</option>
                            <option value="è‹±æ–‡ç­">è‹±æ–‡ç­</option>
                            <option value="ä¸­æ–‡ç­">ä¸­æ–‡ç­</option>
                            <option value="ç§‘å­¸ç­">ç§‘å­¸ç­</option>
                            <option value="éŸ³æ¨‚ç­">éŸ³æ¨‚ç­</option>
                            <option value="ç¾è¡“ç­">ç¾è¡“ç­</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>è¯çµ¡é›»è©±</label>
                        <input type="tel" id="studentPhone" placeholder="è¯çµ¡é›»è©±">
                    </div>
                    <div class="form-group">
                        <label>é›»å­ä¿¡ç®±</label>
                        <input type="email" id="studentEmail" placeholder="é›»å­ä¿¡ç®±">
                    </div>
                    <div class="form-group">
                        <label>ç‹€æ…‹</label>
                        <select id="studentStatus">
                            <option value="åœ¨è®€">åœ¨è®€</option>
                            <option value="ä¼‘å­¸">ä¼‘å­¸</option>
                            <option value="ç•¢æ¥­">ç•¢æ¥­</option>
                            <option value="é€€å­¸">é€€å­¸</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>å‚™è¨»</label>
                    <textarea id="studentRemarks" placeholder="å…¶ä»–å‚™è¨»è³‡è¨Š" rows="3"></textarea>
                </div>
                <div style="margin-top: 25px;">
                    <button class="btn btn-success" onclick="addStudent()">â• æ–°å¢å­¸å“¡</button>
                    <button class="btn btn-primary" onclick="loadStudents()">ğŸ”„ é‡æ–°è¼‰å…¥</button>
                    <button class="btn btn-warning" onclick="clearForm()">ğŸ§¹ æ¸…ç©ºè¡¨å–®</button>
                </div>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 20px; color: #333;">ğŸ“‹ å­¸å“¡åˆ—è¡¨</h3>
                <div class="student-list" id="studentList">
                    <div class="loading">è¼‰å…¥ä¸­...</div>
                </div>
            </div>
        </div>

        <!-- é›²ç«¯åŒæ­¥æ¨™ç±¤ -->
        <div id="syncTab" class="tab-content">
            <div class="card">
                <h3 style="margin-bottom: 25px; color: #333;">â˜ï¸ Google Sheets åŒæ­¥</h3>
                <div class="sync-grid">
                    <div class="sync-card">
                        <h4 style="color: #28a745; margin-bottom: 15px;">ğŸ“¤ ä¸Šå‚³åˆ°é›²ç«¯</h4>
                        <button class="btn btn-success" onclick="syncToCloud()" style="width: 100%; margin-bottom: 15px;">
                            â˜ï¸ åŒæ­¥å­¸å“¡åˆ°é›²ç«¯
                        </button>
                        <p style="font-size: 14px; color: #666; line-height: 1.5;">
                            å°‡æœ¬åœ°å­¸å“¡è³‡æ–™ä¸Šå‚³åˆ° Google Sheetsï¼Œè¦†è“‹é›²ç«¯ç¾æœ‰è³‡æ–™
                        </p>
                    </div>
                    <div class="sync-card">
                        <h4 style="color: #007bff; margin-bottom: 15px;">ğŸ“¥ å¾é›²ç«¯è¼‰å…¥</h4>
                        <button class="btn btn-primary" onclick="loadFromCloud()" style="width: 100%; margin-bottom: 15px;">
                            ğŸ“¥ å¾é›²ç«¯è¼‰å…¥
                        </button>
                        <p style="font-size: 14px; color: #666; line-height: 1.5;">
                            å¾ Google Sheets è¼‰å…¥å­¸å“¡è³‡æ–™ï¼Œè¦†è“‹æœ¬åœ°ç¾æœ‰è³‡æ–™
                        </p>
                    </div>
                </div>
                
                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                    <h4 style="color: #333; margin-bottom: 10px;">ğŸ“‹ åŒæ­¥ç‹€æ…‹</h4>
                    <p id="syncStatus" style="color: #666;">å°šæœªé€²è¡ŒåŒæ­¥</p>
                </div>
            </div>
        </div>

        <!-- çµ±è¨ˆå ±è¡¨æ¨™ç±¤ -->
        <div id="statsTab" class="tab-content">
            <div class="card">
                <h3 style="margin-bottom: 25px; color: #333;">ğŸ“Š çµ±è¨ˆå ±è¡¨</h3>
                <div class="stats-grid">
                    <div class="stat-card" style="border-left-color: #007bff;">
                        <h4 style="color: #007bff; margin-bottom: 10px;">ç¸½å­¸å“¡æ•¸</h4>
                        <p style="font-size: 32px; font-weight: bold; margin: 10px 0; color: #333;" id="totalStudents">0</p>
                    </div>
                    <div class="stat-card" style="border-left-color: #28a745;">
                        <h4 style="color: #28a745; margin-bottom: 10px;">åœ¨è®€å­¸å“¡</h4>
                        <p style="font-size: 32px; font-weight: bold; margin: 10px 0; color: #333;" id="activeStudents">0</p>
                    </div>
                    <div class="stat-card" style="border-left-color: #ffc107;">
                        <h4 style="color: #f39c12; margin-bottom: 10px;">ä¼‘å­¸å­¸å“¡</h4>
                        <p style="font-size: 32px; font-weight: bold; margin: 10px 0; color: #333;" id="suspendedStudents">0</p>
                    </div>
                    <div class="stat-card" style="border-left-color: #6c757d;">
                        <h4 style="color: #6c757d; margin-bottom: 10px;">ç•¢æ¥­å­¸å“¡</h4>
                        <p style="font-size: 32px; font-weight: bold; margin: 10px 0; color: #333;" id="graduatedStudents">0</p>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn btn-primary" onclick="updateStatistics()">ğŸ”„ æ›´æ–°çµ±è¨ˆ</button>
                    <button class="btn btn-success" onclick="exportStudentList()">ğŸ“„ åŒ¯å‡ºå­¸å“¡æ¸…å–®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- é€šçŸ¥å…ƒç´  -->
    <div id="notification" class="notification"></div>

    <script>
        // å…¨åŸŸè®Šæ•¸
        let students = [];
        const API_BASE = ''; // Vercel æœƒè‡ªå‹•è™•ç†ç›¸å°è·¯å¾‘

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('ğŸš€ å­¸å“¡ç®¡ç†ç³»çµ±å•Ÿå‹•ä¸­...');
            await checkServerStatus();
            await loadStudents();
            updateStatistics();
            showNotification('ç³»çµ±å•Ÿå‹•å®Œæˆï¼', 'success');
        });

        // æª¢æŸ¥ä¼ºæœå™¨ç‹€æ…‹
        async function checkServerStatus() {
            try {
                document.getElementById('statusText').textContent = 'æª¢æ¸¬ä¸­...';
                const response = await fetch('/api/get-students');
                
                if (response.ok) {
                    document.getElementById('serverStatus').className = 'status-indicator status-online';
                    document.getElementById('statusText').textContent = 'ç·šä¸Š';
                    console.log('âœ… API ä¼ºæœå™¨é€£ç·šæ­£å¸¸');
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                document.getElementById('serverStatus').className = 'status-indicator status-offline';
                document.getElementById('statusText').textContent = 'é›¢ç·š';
                console.log('âš ï¸ API ä¼ºæœå™¨é›¢ç·šï¼Œä½¿ç”¨æœ¬åœ°æ¨¡å¼');
            }
        }

        // æ¨™ç±¤é åˆ‡æ›
        function showTab(tabName) {
            // ç§»é™¤æ‰€æœ‰ active é¡åˆ¥
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // å•Ÿç”¨é¸ä¸­çš„æ¨™ç±¤
            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // å¦‚æœåˆ‡æ›åˆ°çµ±è¨ˆé é¢ï¼Œæ›´æ–°çµ±è¨ˆ
            if (tabName === 'stats') {
                updateStatistics();
            }
        }

        // é¡¯ç¤ºé€šçŸ¥
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // æ–°å¢å­¸å“¡
        async function addStudent() {
            const name = document.getElementById('studentName').value.trim();
            if (!name) {
                showNotification('è«‹è¼¸å…¥å­¸å“¡å§“å', 'error');
                return;
            }

            const student = {
                id: Date.now().toString(),
                name: name,
                nickname: document.getElementById('studentNickname').value.trim(),
                class: document.getElementById('studentClass').value,
                phone: document.getElementById('studentPhone').value.trim(),
                email: document.getElementById('studentEmail').value.trim(),
                status: document.getElementById('studentStatus').value,
                remarks: document.getElementById('studentRemarks').value.trim(),
                createdAt: new Date().toLocaleDateString('zh-TW')
            };

            students.push(student);
            localStorage.setItem('studentData', JSON.stringify(students));
            
            clearForm();
            displayStudents();
            updateStatistics();
            showNotification(`å­¸å“¡ ${name} å·²æ–°å¢`, 'success');
        }

        // æ¸…ç©ºè¡¨å–®
        function clearForm() {
            document.getElementById('studentName').value = '';
            document.getElementById('studentNickname').value = '';
            document.getElementById('studentClass').value = '';
            document.getElementById('studentPhone').value = '';
            document.getElementById('studentEmail').value = '';
            document.getElementById('studentStatus').value = 'åœ¨è®€';
            document.getElementById('studentRemarks').value = '';
        }

        // è¼‰å…¥å­¸å“¡è³‡æ–™
        async function loadStudents() {
            // å…ˆå¾æœ¬åœ°è¼‰å…¥
            const localData = localStorage.getItem('studentData');
            if (localData) {
                try {
                    students = JSON.parse(localData);
                    console.log(`ğŸ“š è¼‰å…¥ ${students.length} ç­†æœ¬åœ°å­¸å“¡è³‡æ–™`);
                } catch (error) {
                    console.error('æœ¬åœ°è³‡æ–™è§£æå¤±æ•—:', error);
                    students = [];
                }
            } else {
                students = [];
            }
            
            displayStudents();
            updateStatistics();
        }

        // é¡¯ç¤ºå­¸å“¡åˆ—è¡¨
        function displayStudents() {
            const list = document.getElementById('studentList');
            
            if (students.length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <h3>ğŸ“š é‚„æ²’æœ‰å­¸å“¡è³‡æ–™</h3>
                        <p>é»æ“Šä¸Šæ–¹çš„ã€Œæ–°å¢å­¸å“¡ã€é–‹å§‹å»ºç«‹ä½ çš„å­¸å“¡åå†Š</p>
                    </div>
                `;
                return;
            }

            list.innerHTML = students.map(student => `
                <div class="student-item">
                    <div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 5px;">
                            ${student.name}
                            ${student.nickname ? `<span style="color: #666; font-weight: 400;">(${student.nickname})</span>` : ''}
                        </div>
                        <div style="color: #666; font-size: 14px;">
                            <span style="margin-right: 15px;">ğŸ“š ${student.class || 'æœªåˆ†é…ç­åˆ¥'}</span>
                            <span style="color: ${getStatusColor(student.status)}; font-weight: 500;">â— ${student.status}</span>
                        </div>
                        <div style="color: #999; font-size: 12px; margin-top: 3px;">
                            ${student.createdAt} å»ºç«‹
                        </div>
                    </div>
                    <div>
                        <button class="btn btn-danger" onclick="deleteStudent('${student.id}')" 
                                title="åˆªé™¤å­¸å“¡">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
        }

        // å–å¾—ç‹€æ…‹é¡è‰²
        function getStatusColor(status) {
            switch (status) {
                case 'åœ¨è®€': return '#28a745';
                case 'ä¼‘å­¸': return '#ffc107';
                case 'ç•¢æ¥­': return '#6c757d';
                case 'é€€å­¸': return '#dc3545';
                default: return '#007bff';
            }
        }

        // åˆªé™¤å­¸å“¡
        function deleteStudent(id) {
            const student = students.find(s => s.id === id);
            if (!student) return;
            
            if (confirm(`ç¢ºå®šè¦åˆªé™¤å­¸å“¡ã€Œ${student.name}ã€å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`)) {
                students = students.filter(s => s.id !== id);
                localStorage.setItem('studentData', JSON.stringify(students));
                displayStudents();
                updateStatistics();
                showNotification(`å­¸å“¡ ${student.name} å·²åˆªé™¤`, 'warning');
            }
        }

        // åŒæ­¥åˆ°é›²ç«¯
        async function syncToCloud() {
            if (students.length === 0) {
                showNotification('æ²’æœ‰å­¸å“¡è³‡æ–™å¯åŒæ­¥', 'warning');
                return;
            }

            try {
                showNotification('æ­£åœ¨åŒæ­¥åˆ°é›²ç«¯...', 'warning');
                document.getElementById('syncStatus').textContent = 'æ­£åœ¨ä¸Šå‚³è³‡æ–™åˆ° Google Sheets...';
                
                const response = await fetch('/api/sync-students', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ students })
                });

                const result = await response.json();
                
                if (result.success) {
                    showNotification(result.message, 'success');
                    document.getElementById('syncStatus').textContent = `âœ… ${result.message} (${new Date().toLocaleString('zh-TW')})`;
                } else {
                    throw new Error(result.error);
                }
            } catch (error) {
                console.error('åŒæ­¥å¤±æ•—:', error);
                showNotification('åŒæ­¥å¤±æ•—: ' + error.message, 'error');
                document.getElementById('syncStatus').textContent = `âŒ åŒæ­¥å¤±æ•—: ${error.message}`;
            }
        }

        // å¾é›²ç«¯è¼‰å…¥
        async function loadFromCloud() {
            try {
                showNotification('æ­£åœ¨å¾é›²ç«¯è¼‰å…¥...', 'warning');
                document.getElementById('syncStatus').textContent = 'æ­£åœ¨å¾ Google Sheets è¼‰å…¥è³‡æ–™...';
                
                const response = await fetch('/api/get-students');
                const result = await response.json();
                
                if (result.success && result.students) {
                    students = result.students;
                    localStorage.setItem('studentData', JSON.stringify(students));
                    displayStudents();
                    updateStatistics();
                    showNotification(`æˆåŠŸè¼‰å…¥ ${result.count} ç­†å­¸å“¡è³‡æ–™`, 'success');
                    document.getElementById('syncStatus').textContent = `âœ… æˆåŠŸè¼‰å…¥ ${result.count} ç­†è³‡æ–™ (${new Date().toLocaleString('zh-TW')})`;
                } else {
                    throw new Error(result.error || 'è¼‰å…¥å¤±æ•—');
                }
            } catch (error) {
                console.error('è¼‰å…¥å¤±æ•—:', error);
                showNotification('è¼‰å…¥å¤±æ•—: ' + error.message, 'error');
                document.getElementById('syncStatus').textContent = `âŒ è¼‰å…¥å¤±æ•—: ${error.message}`;
            }
        }

        // æ›´æ–°çµ±è¨ˆ
        function updateStatistics() {
            const total = students.length;
            const active = students.filter(s => s.status === 'åœ¨è®€').length;
            const suspended = students.filter(s => s.status === 'ä¼‘å­¸').length;
            const graduated = students.filter(s => s.status === 'ç•¢æ¥­').length;

            document.getElementById('totalStudents').textContent = total;
            document.getElementById('activeStudents').textContent = active;
            document.getElementById('suspendedStudents').textContent = suspended;
            document.getElementById('graduatedStudents').textContent = graduated;
        }

        // åŒ¯å‡ºå­¸å“¡æ¸…å–®
        function exportStudentList() {
            if (students.length === 0) {
                showNotification('æ²’æœ‰å­¸å“¡è³‡æ–™å¯åŒ¯å‡º', 'warning');
                return;
            }

            const data = {
                exportDate: new Date().toISOString(),
                totalStudents: students.length,
                students: students
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `å­¸å“¡æ¸…å–®_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('å­¸å“¡æ¸…å–®å·²åŒ¯å‡º', 'success');
        }

        // éŒ¯èª¤è™•ç†
        window.addEventListener('error', function(event) {
            console.error('Global error:', event.error);
        });

        // æœå‹™ Worker è¨»å†Š (PWA æ”¯æ´)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // é€™è£¡å¯ä»¥è¨»å†Š service worker
            });
        }
    </script>
</body>
</html> 